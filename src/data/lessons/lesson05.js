// ç¬¬5ç« ï¼šæ•°æ®ç±»å‹æ·±å…¥ï¼šä¼ å€¼ä¸ä¼ å€
export default {
  id: 6,
  title: 'æ•°æ®ç±»å‹æ·±å…¥ï¼šä¼ å€¼ä¸ä¼ å€',
  category: 'åŸºç¡€',
  difficulty: 'medium',
  description: 'ç†è§£JavaScriptä¸­çš„åŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«',
  content: `# æ•°æ®ç±»å‹æ·±å…¥ï¼šä¼ å€¼ä¸ä¼ å€

## ä¸ºä»€ä¹ˆè¦å­¦è¿™ä¸ªï¼Ÿ

è¿™æ˜¯JavaScriptä¸­æœ€å®¹æ˜“å‡ºbugçš„åœ°æ–¹ï¼ç†è§£ä¼ å€¼å’Œä¼ å€ï¼Œèƒ½é¿å…90%çš„æ•°æ®é”™è¯¯ã€‚

## ä¸¤ç§æ•°æ®ç±»å‹

JavaScriptçš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼š

1. **åŸå§‹ç±»å‹**ï¼ˆPrimitive Typesï¼‰- ä¼ å€¼
2. **å¼•ç”¨ç±»å‹**ï¼ˆReference Typesï¼‰- ä¼ å€

## åŸå§‹ç±»å‹ - ä¼ å€¼ï¼ˆå¤åˆ¶ï¼‰

**åŸå§‹ç±»å‹åŒ…æ‹¬ï¼š** Numberã€Stringã€Booleanã€Undefinedã€Nullã€Symbolï¼ˆES6+ï¼‰

**ç‰¹ç‚¹ï¼š** èµ‹å€¼æ—¶ä¼šå¤åˆ¶ä¸€ä»½æ–°çš„å€¼ï¼Œä¸¤ä¸ªå˜é‡äº’ä¸å½±å“ã€‚

**ç”Ÿæ´»æ¯”å–»ï¼š** å°±åƒå¤å°æ–‡ä»¶ï¼Œä½ å¤å°äº†ä¸€ä»½ï¼Œä¿®æ”¹å¤å°ä»¶ä¸ä¼šå½±å“åŸä»¶ã€‚

const a = 10;
let b = a;  // b å¾—åˆ° a çš„å‰¯æœ¬ï¼ˆå¤å°ä»¶ï¼‰
b = 20;     // ä¿®æ”¹ b

console.log(a);  // 10ï¼ˆåŸä»¶æ²¡å˜ï¼‰
console.log(b);  // 20ï¼ˆå¤å°ä»¶æ”¹äº†ï¼‰

**ç»“è®ºï¼š** åŸå§‹ç±»å‹å¾ˆå®‰å…¨ï¼Œä¸ç”¨æ‹…å¿ƒäº’ç›¸å½±å“ã€‚

## å¼•ç”¨ç±»å‹ - ä¼ å€ï¼ˆå…±äº«ï¼‰

**å¼•ç”¨ç±»å‹åŒ…æ‹¬ï¼š** Objectï¼ˆå¯¹è±¡ï¼‰ã€Arrayï¼ˆæ•°ç»„ï¼‰ã€Functionï¼ˆå‡½æ•°ï¼‰

**ç‰¹ç‚¹ï¼š** èµ‹å€¼æ—¶å¤åˆ¶çš„æ˜¯"åœ°å€"ï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªæ•°æ®ã€‚

**ç”Ÿæ´»æ¯”å–»ï¼š** å°±åƒä¸¤ä¸ªäººå…±ç”¨ä¸€ä¸ªæˆ¿é—´ï¼Œä¸€ä¸ªäººæ”¹å˜æˆ¿é—´å¸ƒç½®ï¼Œå¦ä¸€ä¸ªäººä¹Ÿä¼šçœ‹åˆ°å˜åŒ–ã€‚

### å¯¹è±¡çš„é™·é˜±

const obj1 = { name: "å¼ ä¸‰" };
const obj2 = obj1;  // âš ï¸ obj2 å’Œ obj1 æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼
obj2.name = "æå››"; // ä¿®æ”¹ obj2

console.log(obj1.name);  // "æå››"ï¼ˆobj1 ä¹Ÿå˜äº†ï¼ï¼‰
console.log(obj2.name);  // "æå››"

**ä¸ºä»€ä¹ˆï¼Ÿ** å› ä¸º obj1 å’Œ obj2 å°±åƒä¸¤æŠŠé’¥åŒ™ï¼Œæ‰“å¼€çš„æ˜¯åŒä¸€ä¸ªæˆ¿é—´ã€‚

### æ•°ç»„çš„é™·é˜±

const arr1 = [1, 2, 3];
const arr2 = arr1;  // âš ï¸ arr2 å’Œ arr1 æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼
arr2.push(4);       // ä¿®æ”¹ arr2

console.log(arr1);  // [1, 2, 3, 4]ï¼ˆarr1 ä¹Ÿå˜äº†ï¼ï¼‰
console.log(arr2);  // [1, 2, 3, 4]

**è¿™æ˜¯bugçš„å¸¸è§æ¥æºï¼** ä½ ä»¥ä¸ºå¤åˆ¶äº†ï¼Œå…¶å®åªæ˜¯å…±äº«äº†ã€‚

## å¦‚ä½•æ­£ç¡®å¤åˆ¶å¯¹è±¡/æ•°ç»„ï¼Ÿ

### æ–¹æ³•1ï¼šå±•å¼€è¿ç®—ç¬¦ï¼ˆES6+ï¼Œæ¨èï¼‰

**å¤åˆ¶å¯¹è±¡ï¼š**

const obj1 = { name: "å¼ ä¸‰", age: 25 };
const obj2 = { ...obj1 };  // âœ… åˆ›å»ºæ–°å¯¹è±¡
obj2.name = "æå››";

console.log(obj1.name);  // "å¼ ä¸‰"ï¼ˆä¸å—å½±å“ï¼‰
console.log(obj2.name);  // "æå››"

**å¤åˆ¶æ•°ç»„ï¼š**

const arr1 = [1, 2, 3];
const arr2 = [...arr1];  // âœ… åˆ›å»ºæ–°æ•°ç»„
arr2.push(4);

console.log(arr1);  // [1, 2, 3]ï¼ˆä¸å—å½±å“ï¼‰
console.log(arr2);  // [1, 2, 3, 4]

**è®°ä½ï¼š** ä¸‰ä¸ªç‚¹ \`...\` å°±æ˜¯"å±•å¼€"çš„æ„æ€ï¼ŒæŠŠå†…å®¹å±•å¼€åæ”¾å…¥æ–°å®¹å™¨ã€‚

### æ–¹æ³•2ï¼šæ·±æ‹·è´ï¼ˆå¤„ç†åµŒå¥—å¯¹è±¡ï¼‰

**é—®é¢˜ï¼š** å¦‚æœå¯¹è±¡é‡Œè¿˜æœ‰å¯¹è±¡æ€ä¹ˆåŠï¼Ÿ

const obj1 = { 
  name: "å¼ ä¸‰", 
  address: { city: "åŒ—äº¬" }  // åµŒå¥—å¯¹è±¡
};
const obj2 = { ...obj1 };  // æµ…æ‹·è´
obj2.address.city = "ä¸Šæµ·";  // ä¿®æ”¹åµŒå¥—å¯¹è±¡

console.log(obj1.address.city);  // "ä¸Šæµ·"ï¼ˆè¿˜æ˜¯è¢«å½±å“äº†ï¼ï¼‰

**è§£å†³æ–¹æ¡ˆï¼šæ·±æ‹·è´**

const obj1 = { 
  name: "å¼ ä¸‰", 
  address: { city: "åŒ—äº¬" } 
};
const obj2 = JSON.parse(JSON.stringify(obj1));  // æ·±æ‹·è´
obj2.address.city = "ä¸Šæµ·";

console.log(obj1.address.city);  // "åŒ—äº¬"ï¼ˆä¸å—å½±å“ï¼‰
console.log(obj2.address.city);  // "ä¸Šæµ·"

**æ³¨æ„ï¼š** JSONæ–¹æ³•ç®€å•ä½†æœ‰é™åˆ¶ï¼Œæ— æ³•å¤åˆ¶å‡½æ•°ã€undefinedç­‰ç‰¹æ®Šå€¼ã€‚

## å‡½æ•°å‚æ•°çš„ä¼ é€’

### åŸå§‹ç±»å‹ä½œä¸ºå‚æ•° - å®‰å…¨

const change = x => {
  x = 100;  // åªæ˜¯ä¿®æ”¹äº†å‰¯æœ¬
};

const num = 10;
change(num);
console.log(num);  // 10ï¼ˆåŸå€¼ä¸å˜ï¼‰

### å¼•ç”¨ç±»å‹ä½œä¸ºå‚æ•° - å±é™©ï¼

const changeObj = obj => {
  obj.name = "æå››";  // ä¼šä¿®æ”¹åŸå¯¹è±¡ï¼
};

const person = { name: "å¼ ä¸‰" };
changeObj(person);
console.log(person.name);  // "æå››"ï¼ˆè¢«æ”¹å˜äº†ï¼ï¼‰

**âš ï¸ è­¦å‘Šï¼š** åœ¨å‡½æ•°ä¸­ä¿®æ”¹å¯¹è±¡/æ•°ç»„å‚æ•°ï¼Œä¼šå½±å“å¤–éƒ¨çš„åŸå§‹æ•°æ®ï¼

**å®‰å…¨åšæ³•ï¼š** åœ¨å‡½æ•°å†…å…ˆå¤åˆ¶ä¸€ä»½å†ä¿®æ”¹ã€‚

const safeChange = obj => {
  const newObj = { ...obj };  // å…ˆå¤åˆ¶
  newObj.name = "æå››";       // ä¿®æ”¹å‰¯æœ¬
  return newObj;              // è¿”å›æ–°å¯¹è±¡
};

## ğŸ’¡ è®°å¿†å£è¯€

- **åŸå§‹ç±»å‹ä¼ å€¼** - å¤å°ä»¶ï¼Œäº’ä¸å½±å“
- **å¼•ç”¨ç±»å‹ä¼ å€** - å…±äº«æˆ¿é—´ï¼Œä¸€èµ·å˜åŒ–
- **è¦å¤åˆ¶ï¼Ÿç”¨å±•å¼€è¿ç®—ç¬¦** - \`{ ...obj }\` æˆ– \`[...arr]\`
- **æœ‰åµŒå¥—ï¼Ÿç”¨æ·±æ‹·è´** - \`JSON.parse(JSON.stringify(obj))\``,
  starterCode: `// ===== æ•°æ®ç±»å‹æ·±å…¥ï¼šä¼ å€¼ä¸ä¼ å€ =====

// 1. åŸå§‹ç±»å‹ - ä¼ å€¼ï¼ˆå¤åˆ¶å€¼ï¼‰
console.log("=== åŸå§‹ç±»å‹ï¼ˆä¼ å€¼ï¼‰===");
let num1 = 10;
let num2 = num1;  // num2å¾—åˆ°num1çš„å‰¯æœ¬
num2 = 20;        // ä¿®æ”¹num2

console.log("num1:", num1);  // è¾“å‡º: num1: 10 (ä¸å—å½±å“)
console.log("num2:", num2);  // è¾“å‡º: num2: 20

// 2. å¼•ç”¨ç±»å‹ - ä¼ å€ï¼ˆå…±äº«åœ°å€ï¼‰
console.log("\\n=== å¼•ç”¨ç±»å‹ï¼ˆä¼ å€ï¼‰===");
const obj1 = { name: "å¼ ä¸‰", age: 25 };
const obj2 = obj1;  // obj2å’Œobj1æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
obj2.name = "æå››";  // ä¿®æ”¹obj2

console.log("obj1:", obj1);  // è¾“å‡º: { name: "æå››", age: 25 } (è¢«å½±å“äº†!)
console.log("obj2:", obj2);  // è¾“å‡º: { name: "æå››", age: 25 }

// 3. æ­£ç¡®å¤åˆ¶å¯¹è±¡ - ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦
console.log("\\n=== æ­£ç¡®å¤åˆ¶å¯¹è±¡ ===");
const person1 = { name: "ç‹äº”", age: 30 };
const person2 = { ...person1 };  // åˆ›å»ºæ–°å¯¹è±¡
person2.name = "èµµå…­";

console.log("person1:", person1);  // è¾“å‡º: { name: "ç‹äº”", age: 30 } (ä¸å—å½±å“)
console.log("person2:", person2);  // è¾“å‡º: { name: "èµµå…­", age: 30 }

// 4. æ•°ç»„çš„ä¼ å€é—®é¢˜
console.log("\\n=== æ•°ç»„çš„ä¼ å€ ===");
const arr1 = [1, 2, 3];
const arr2 = arr1;  // æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„
arr2.push(4);

console.log("arr1:", arr1);  // è¾“å‡º: [1, 2, 3, 4] (è¢«å½±å“äº†!)
console.log("arr2:", arr2);  // è¾“å‡º: [1, 2, 3, 4]

// 5. æ­£ç¡®å¤åˆ¶æ•°ç»„
console.log("\\n=== æ­£ç¡®å¤åˆ¶æ•°ç»„ ===");
const arr3 = [1, 2, 3];
const arr4 = [...arr3];  // åˆ›å»ºæ–°æ•°ç»„
arr4.push(4);

console.log("arr3:", arr3);  // è¾“å‡º: [1, 2, 3] (ä¸å—å½±å“)
console.log("arr4:", arr4);  // è¾“å‡º: [1, 2, 3, 4]

// 6. å‡½æ•°å‚æ•°ä¼ é€’
console.log("\\n=== å‡½æ•°å‚æ•°ä¼ é€’ ===");

// åŸå§‹ç±»å‹ - å®‰å…¨
const changeNumber = x => {
  x = 999;  // åªä¿®æ”¹å‰¯æœ¬
};

// å¼•ç”¨ç±»å‹ - å±é™©
const changeObject = obj => {
  obj.value = 999;  // ä¼šå½±å“å¤–éƒ¨å¯¹è±¡ï¼
};

let myNum = 50;
let myObj = { value: 1 };

changeNumber(myNum);
changeObject(myObj);

console.log("myNum:", myNum);    // è¾“å‡º: 50 (ä¸å˜)
console.log("myObj:", myObj);    // è¾“å‡º: { value: 999 } (è¢«æ”¹å˜äº†ï¼)

// ğŸ’¡ é‡ç‚¹ï¼šåŸå§‹ç±»å‹ä¼ å€¼ï¼Œå¼•ç”¨ç±»å‹ä¼ å€
// ğŸ’¡ ç»ƒä¹ ï¼šå°è¯•ä¿®æ”¹ä¸Šé¢çš„ä»£ç ï¼ŒåŠ æ·±ç†è§£`,
  solution: `// 1. åŸå§‹ç±»å‹ - ä¼ å€¼
let num1 = 10;
let num2 = num1;
num2 = 20;
console.log("åŸå§‹ç±»å‹:");
console.log("num1:", num1);  // 10
console.log("num2:", num2);  // 20

// 2. å¼•ç”¨ç±»å‹ - ä¼ å€ï¼ˆç›´æ¥èµ‹å€¼ï¼‰
let obj1 = { name: "å¼ ä¸‰", age: 25 };
let obj2 = obj1;  // æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
obj2.name = "æå››";
console.log("\\nå¼•ç”¨ç±»å‹ï¼ˆç›´æ¥èµ‹å€¼ï¼‰:");
console.log("obj1:", obj1);  // { name: "æå››", age: 25 }
console.log("obj2:", obj2);  // { name: "æå››", age: 25 }

// 3. ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å¤åˆ¶æ•°ç»„
let arr1 = [1, 2, 3];
let arr2 = [...arr1];  // åˆ›å»ºæ–°æ•°ç»„
arr2.push(4);
console.log("\\nä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å¤åˆ¶:");
console.log("arr1:", arr1);  // [1, 2, 3]
console.log("arr2:", arr2);  // [1, 2, 3, 4]`,
};
